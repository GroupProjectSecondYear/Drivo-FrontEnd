<div class="panel-header panel-header-sm">

    <canvas hidden baseChart id="manualLessonChart"
    [datasets]="lineChartGradientsNumbersData"
    [labels]="lineChartGradientsNumbersLabels"
    [colors]="lineChartGradientsNumbersColors"
    [options]="lineChartGradientsNumbersOptions"
    [chartType]="lineChartGradientsNumbersType"
    (chartHover)="chartHovered($event)"
    (chartClick)="chartClicked($event)">
    </canvas>

    <canvas hidden baseChart id="manualLessonMoreChart"
    [datasets]="lineChartGradientsNumbersData"
    [labels]="lineChartGradientsNumbersLabels"
    [colors]="lineChartGradientsNumbersColors"
    [options]="lineChartGradientsNumbersOptions"
    [chartType]="lineChartGradientsNumbersType"
    (chartHover)="chartHovered($event)"
    (chartClick)="chartClicked($event)">
    </canvas>

</div>
  
<div class="main-content">
  <div class="card">
      <div class="card-header">
          <h4 class="card-title">Package Analysis</h4>
      </div>
      <div class="card-body">

          <!-- package details -->
          <!-- Drop down -->
          <div ngbDropdown class="dropdown" placement="bottom-left">
              <button class="btn btn-secondary dropdown-toggle" ngbDropdownToggle>Select the package</button>
              <div ngbDropdownMenu>
                  <div *ngFor="let package of packageList">
                    <a (click)="selectPackageDetails(package)" class="dropdown-item" >{{package.title}}</a>
                  </div>
              </div>
          </div>
          <!-- Drop Down Finish -->
          <!-- End Package Details -->

          <hr>

          <div *ngIf="selectPackage" class="card">
              <div class="card-header">
                  <h4 class="card-title">{{selectPackage.title}}</h4>
              </div>

              <div *ngIf="isManual" class="card">
                  
                  <div class="card-header">
                      <u><small class="card-title">{{selectPackage.title}}(Manual)</small></u>
                  </div>
                  <div class="card-body">

                       <!-- Message -->
                       <div *ngIf="errorMessage != null " class="alert alert-danger">
                            <button (click)="closeMsg(1)" type="button" aria-hidden="true" class="close">
                            <i class="now-ui-icons ui-1_simple-remove"></i>
                            </button>
                            <span *ngIf="errorMessage">{{errorMessage}}</span>
                        </div>
                        <!-- Message Finish -->   

                      <!-- First Row -->
                      <div class="row">
                        <!-- <div class="col-md-1">  </div> -->
                       
                        <div class="col-md-3">

                            <div class="card card-chart">
                                <div class="card-header">
                                    <h5 class="card-category">Number Of Lessons PerDay</h5>
                                </div>
                                <div class="card-body">
                                    <div class="chart-area">
                                        <canvas baseChart id="manualLessonChart"
                                        [datasets]="lineChartGradientsNumbersData"
                                        [labels]="lineChartGradientsNumbersLabels"
                                        [colors]="lineChartGradientsNumbersColors"
                                        [options]="lineChartGradientsNumbersOptions"
                                        [chartType]="lineChartGradientsNumbersType"
                                        (chartHover)="chartHovered($event)"
                                        (chartClick)="ManualLessonChartClicked($event)">
                                        </canvas>
                                    </div>
                                </div>
                                <div class="card-footer">
                                    Total Lessons : {{manualTotalLesson}}
                                </div>
                            </div>

                            

                        </div>
                        <div class="col-md-3">
                            <p>Total Students   :   <b>{{manualTotalStudent}}</b></p>
                            <p class="info">Analysis the average number of lessons per week :</p>
                            
                            <div class="card">
                                <div class="card-body">
                                        <div class="col-md-12">
                                                <label>Lesson Time Period(min):</label>
                                                <div class="form-group">
                                                    <input type="text" (keyup.enter)="lessonAnalysisReport(1);" [(ngModel)]="lessonTimePeriodManual"  placeholder="120 min" class="form-control" />
                                                    <small *ngIf="errorMsgLessonTimePeriodManual != '' " class="text-danger">{{errorMsgLessonTimePeriodManual}}</small>
                                                </div>
                                        </div>
                                        <div class="col-md-12">
                                                <label>Student's Trial Time Period(min):</label>
                                                <div class="form-group">
                                                    <input type="text" (keyup.enter)="lessonAnalysisReport(1);" [(ngModel)]="studentTimePeriodManual"  placeholder="20 min" class="form-control" />
                                                    <small *ngIf="errorMsgStudentTimePeriodManual != '' " class="text-danger">{{errorMsgStudentTimePeriodManual}}</small>
                                                </div>
                                        </div>
                                        <!-- Form Information -->
                                        <div *ngIf="isManualLessonAnalysisActive">
                                            <pre>Lesson TimePeriod    : {{lessonTimePeriodManual}} min</pre>
                                            <pre>Student TimePeriod   : {{studentTimePeriodManual}} min</pre>
                                            <pre>Vehicle category     : {{vehicleCategory}}</pre>
                                            <pre>Student In OneVehicle: {{numStudentForOneVehicleManual}}</pre>
                                            _________________________
                                            <pre>Lessons Per week    : <b>{{manualTotalLessonRecommend}}</b></pre>
                                        </div>
                                        <!-- Finish Information -->
                                </div>
                            </div>
                           
                        </div>

                        <div class="col-md-6">
                            <div class="card">  
                                <div class="card-header">
                                    <h4 class="card-title">Lesson Details</h4>
                                </div>
                                    <div *ngIf="isManualTableActive" class="table-responsive">
                                        <table class="table">
                                            <thead class=" text-primary">
                                                <th></th>
                                                <th *ngFor="let time of timeSlotIdManual">{{time.startTime}} - {{time.finishTime}}</th>
                                            </thead>
                                            <tbody>

                                            <ng-container *ngFor="let lesson of  manualLessonTimeTable; let y= index">

                                                    <tr>
                                                        <td [attr.rowspan]="lesson.timeSlot.length">{{lesson.day}}</td>
                                                        <ng-container *ngFor="let time of timeSlotIdManual">
                                                            <td *ngIf="time.timeSlotId == lesson.timeSlot[0].timeSlotId">ok</td>
                                                            <td *ngIf="time.timeSlotId != lesson.timeSlotId[0].timeSlotId">-</td>
                                                        </ng-container>
                                                    </tr>

                                                    <ng-container *ngFor="let data of lesson.timeSlot; let i = index;">
                                                        <tr *ngIf="i!=0">
                                                                <ng-container *ngFor="let time of timeSlotIdManual">
                                                                        <td *ngIf="time.timeSlotId==lesson.timeSlot[i].timeSlotId">ok</td>
                                                                        <td *ngIf="time.timeSlotId != lesson.timeSlot[i].timeSlotId">-</td>
                                                                </ng-container>
                                                        </tr>
                                                    </ng-container>

                                            </ng-container>

                                            </tbody>
                                        </table>
                                    </div>
                            </div>
                        </div>

                       
                      </div>
                    <!-- First Row Finish  -->
                    
                   
                     <!-- Second Row -->
                     <div *ngIf="isManualLessonMore" class="row">
                        <hr>
                        <div class="col-md-2">  </div>

                        <div class="col-md-4">

                            <div class="card card-chart">
                                <div class="card-header">
                                    <h5 class="card-category">Number Of Students PerLesson</h5>
                                </div>
                                <div class="card-body">
                                    <div class="chart-area">
                                        <canvas baseChart id="manualLessonMoreChart"
                                        [datasets]="lineChartGradientsNumbersData"
                                        [labels]="lineChartGradientsNumbersLabels"
                                        [colors]="lineChartGradientsNumbersColors"
                                        [options]="lineChartGradientsNumbersOptions"
                                        [chartType]="lineChartGradientsNumbersType"
                                        (chartHover)="chartHovered($event)"
                                        (chartClick)="chartClicked($event)">
                                        </canvas>
                                    </div>
                                </div>
                            </div>

                            

                        </div>
                        <div class="col-md-4">
                            jjlklklslssl
                        </div>

                        <div class="col-md-2">  </div>
                      </div>
                    <!-- Second Row Finish -->

                  </div>
              </div>
          </div>

      </div>
  </div>
</div>
  
